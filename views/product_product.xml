<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <record id="product_product_view_tree" model="ir.ui.view">
        <field name="name">product.product.view.tree</field>
        <field name="model">product.product</field>
        <field name="arch" type="xml">
            <list string="">
                <field name="default_code"></field>
                <field name="name"></field>
                <field name="product_tmpl_sublimation_id"></field>
                <field name="list_price"></field>
            </list>
        </field>
    </record>
    
    <record id="product_product_view_kanban_sublimation" model="ir.ui.view">
        <field name="name">product.product.kanban.sublimation</field>
        <field name="model">product.product</field>
        <field name="arch" type="xml">
            <kanban js_class="prod_sublimation_kanban">
                <field name="currency_id"/>
                <templates>
                    <t t-name="kanban-box" >
                        <div class="card h-100 border-0 shadow-0">
                            <div class="row">
                                <div class="col-6">
                                    <div class="card-img-left text-end p-1">
                                        <field
                                            name="image_1920"
                                            widget="image"
                                            alt="Product"
                                            options="{'img_class': 'img-fluid rounded', 'width': 50, 'height': 50}"
                                        />
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="card-body d-flex flex-column justify-content-between ps-0 p-3">
                                        <div class="mb-2">
                                            <h4 class="mb-1 text-start">
                                                <span t-if="record.default_code.value" class="text-muted fw-normal">
                                                    [<field name="default_code"/>]
                                                </span>
                                                <br/>
                                                <field name="name"/>
                                            </h4>
                                        </div>

                                        <div class="row g-2 text-muted small pt-3">
                                            <div class="col-12 text-end">
                                                <i class="fa fa-tag me-1" title="price"></i>
                                                <field name="list_price" widget="monetary" options="{'currency_field': 'currency_id'}"/>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>

    <record id="product_product_view_list_sublimation" model="ir.ui.view">
        <field name="name">product.product.list.sublimation</field>
        <field name="model">product.product</field>
        <field name="arch" type="xml">
            <list js_class="prod_sublimation_list">
                <field name="name" />
                <field name="default_code" />
                <field name="list_price" />
            </list>
        </field>
    </record>


    <record id="sublimations_inherit_product_product" model="ir.ui.view">
        <field name="name">product.product.view.form.inherit</field>
        <field name="model">product.product</field>
        <field name="inherit_id" ref="product.product_normal_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//label[@for='sale_ok']" position="after">
                <field name="sublimation_ok" readonly="1" invisible="not sublimation_ok"/>
                <label for="sublimation_ok" invisible="not sublimation_ok"/>
            </xpath>
            <xpath expr="//div[hasclass('oe_title')]" position="inside">
                <p invisible="not (sublimation_ok and product_tmpl_sublimation_id)">
                    <span>All general settings about this product are managed on</span>
                    <button name="open_product_template" type="object" string="the product sublimation." class="oe_link oe_link_product ps-0 ms-1 mb-1"/>
                </p>
            </xpath>
            <xpath expr="//page[@name='general_information']" position="after">
                <page string="Sublimation Attachments" name="sublimation_attachments" invisible="not sublimation_ok">
                    <div class="oe_button_box mb-2" name="button_box">
                        <button name="action_open_sublimation_attachment_wizard" type="object" class="btn btn-primary">
                            Add Attachments
                        </button>
                    </div>
                    <group>
                        <field name="attachment_ids" widget="many2many_binary" nolabel="1"/>
                    </group>
                </page>
            </xpath>
        </field>
    </record>

</odoo>